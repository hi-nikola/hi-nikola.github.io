<!DOCTYPE html>
<html lang="zh-CN">
    
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0,  viewport-fit=cover" name="viewport" />
    <meta name="description" content="dockerå®‰è£…ä½¿ç”¨postgresql" />
    <meta name="hexo-theme-A4" content="v1.8.2" />
    <link rel="alternate icon" type="image/webp" href="/img/favicon.ico">
    <title>Nikolaçš„åšå®¢ | ç”¨èˆç”±æ—¶ï¼Œè¡Œè—åœ¨æˆ‘</title>

    
        
<link rel="stylesheet" href="/css/a11y-dark.min.css">

        
<link rel="stylesheet" href="/css/reset.css">

        
<link rel="stylesheet" href="/css/markdown.css">

        
<link rel="stylesheet" href="/css/fonts.css">
 
         <!--æ³¨æ„ï¼šé¦–é¡µæ—¢ä¸æ˜¯postä¹Ÿä¸æ˜¯page-->
        
        
        
<link rel="stylesheet" href="/css/ui.css">
 
        
<link rel="stylesheet" href="/css/style.css">


        
            <!--è¿”å›é¡¶éƒ¨css-->
            
<link rel="stylesheet" href="/css/returnToTop.css">

            
<link rel="stylesheet" href="/css/unicons.css">

        
        
            <!--ç›®å½•-->
            
<link rel="stylesheet" href="/css/toc.css">

        
    
    

<meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Nikolaçš„åšå®¢" type="application/atom+xml">
</head>
    
    
    <body>
        
            <div class="left-toc-container">
                <nav id="toc" class="bs-docs-sidebar"></nav>
            </div>
        
        <div class="paper">
            
            
            
            
                <div class="shadow-drop-2-bottom paper-main">
                    
<div class="header">
    <div class="header-container">
        <img style="
        width: 56px;
        height: auto;" alt="^-^" cache-control="max-age=86400" class="header-img" src="/img/favicon.webp" width="10%"></img>
        <div class="header-content">
            <a class="logo" href="/">Nikolaçš„åšå®¢</a> 
            <span class="description">ç”¨èˆç”±æ—¶ï¼Œè¡Œè—åœ¨æˆ‘</span> 
        </div>
        
    </div>
    
   
    <ul class="nav">
        
            
                <li><a href="/">é¦–é¡µ</a></li>
            
        
            
                <li><a href="/list/">æ–‡ç« </a></li>
            
        
            
                <li><a target="_blank" rel="noopener" href="https://photo.hi-nikola.cn/">æ‘„å½±</a></li>
            
        
            
                <li><a href="/about/">å…³äº</a></li>
            
        
    </ul>
</div> 
        
                    
                    

                    
                    
                    
                    <!--è¯´æ˜æ˜¯æ–‡ç« posté¡µé¢-->
                    
                        <div class="post-main">

    
        <div class="post-main-title">
            dockerå®‰è£…ä½¿ç”¨postgresql
        </div>
      
    

    <div class="post-md">
        
            
                <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#docker-%E5%AE%89%E8%A3%85%E5%92%8C%E8%BF%90%E8%A1%8C"><span class="post-toc-text">docker å®‰è£…å’Œè¿è¡Œ</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E8%B5%84%E6%96%99"><span class="post-toc-text">èµ„æ–™</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#docker%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="post-toc-text">dockerçš„åŸºæœ¬æ“ä½œ</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E8%BF%90%E8%A1%8Cpostgresql"><span class="post-toc-text">è¿è¡Œpostgresql</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E8%B5%84%E6%96%99-1"><span class="post-toc-text">èµ„æ–™</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#docker%E5%B8%B8%E7%94%A8%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4"><span class="post-toc-text">dockerå¸¸ç”¨åŸºæœ¬å‘½ä»¤</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#postgresql%E8%AF%AD%E6%B3%95"><span class="post-toc-text">postgresqlè¯­æ³•</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E6%8F%92%E5%85%A5"><span class="post-toc-text">æ’å…¥</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E6%9B%B4%E6%96%B0"><span class="post-toc-text">æ›´æ–°</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E5%88%A0%E9%99%A4"><span class="post-toc-text">åˆ é™¤</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E8%87%AA%E6%B5%8B%E9%A2%98"><span class="post-toc-text">è‡ªæµ‹é¢˜</span></a></li></ol></li></ol>
            
        
        <p>å› ä¸ºä¹‹å‰dockeræ¥è§¦çš„ä¸å¤šï¼Œæ¥æ–°å…¬å¸ä¹‹åå…¬å¸æ•°æ®åº“ç”¨çš„æ˜¯pgï¼Œæ„Ÿè§‰å®‰è£…å¾ˆéº»çƒ¦ï¼Œäºæ˜¯è¯•äº†ä¸€ä¸‹dockerå®‰è£…ï¼Œå‡ åˆ†é’Ÿå°±æå®šäº†ï¼ŒçœŸæ–¹ä¾¿ï¼è‡ªä»ç”¨äº†dockerä¹‹åå†ä¹Ÿç¦»ä¸å¼€å®ƒäº†ï¼</p>
<p>è¿™é‡Œè¯´ä¸€ä¸‹ï¼ŒWindowsç”µè„‘å®‰è£…dockerä¹‹å‰è¦å®‰è£…wslã€‚è¿™æ ·å°±å¯ä»¥åœ¨Windowsç³»ç»Ÿè·‘Ubuntuï¼Œç›´æ¥å‘½ä»¤è¡Œ <code>wsl</code>å°±è¿›å…¥äº†ï¼</p>
<span id="more"></span>

<h2 id="docker-å®‰è£…å’Œè¿è¡Œ"><a href="#docker-å®‰è£…å’Œè¿è¡Œ" class="headerlink" title="docker å®‰è£…å’Œè¿è¡Œ"></a>docker å®‰è£…å’Œè¿è¡Œ</h2><h3 id="èµ„æ–™"><a href="#èµ„æ–™" class="headerlink" title="èµ„æ–™"></a>èµ„æ–™</h3><p>å¯å‚è€ƒï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/yahuian/p/13888668.html">Ubuntu 20.04 Docker å®‰è£…å¹¶é…ç½® - YahuiAn - åšå®¢å›­ (cnblogs.com)</a></li>
<li><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV11L411g7U1/?spm_id_from=333.337.search-card.all.click&vd_source=92e68e40f149ffa695a215115d8a042a">Docker 1å°æ—¶å¿«é€Ÿä¸Šæ‰‹æ•™ç¨‹ï¼Œæ— åºŸè¯çº¯å¹²è´§_å“”å“©å“”å“©_bilibili</a></li>
<li><a target="_blank" rel="noopener" href="https://docker.easydoc.net/">ğŸ‰ Docker ç®€ä»‹å’Œå®‰è£… - Docker å¿«é€Ÿå…¥é—¨ (easydoc.net)</a></li>
<li><a target="_blank" rel="noopener" href="https://hub.docker.com/">DockerHub</a><br>ç”Ÿå‘½å‘¨æœŸæµç¨‹ï¼š<br><img src="https://hi-nikola.oss-cn-hangzhou.aliyuncs.com/blog/202304011310785.png"></li>
</ul>
<h3 id="dockerçš„åŸºæœ¬æ“ä½œ"><a href="#dockerçš„åŸºæœ¬æ“ä½œ" class="headerlink" title="dockerçš„åŸºæœ¬æ“ä½œ"></a>dockerçš„åŸºæœ¬æ“ä½œ</h3><pre><code class="shell"># æ£€æŸ¥DOCKERçŠ¶æ€
systemctl status docker

# å¯åŠ¨docker
systemctl start docker

# è®¾ç½®å¼€æœºå¯åŠ¨
systemctl enable docker

# æŸ¥çœ‹å¸®åŠ©
docker --help

# æŸ¥çœ‹ docker é•œåƒ
docker images

# å®¹å™¨åˆ—è¡¨ çŠ¶æ€
docker ps -a

# åˆ é™¤å®¹å™¨
docker container rm xxx

# å¯åŠ¨å®¹å™¨
docker start [id]

# è¿›å…¥å®¹å™¨
docker exec -it [idæˆ–è€…name]  /bin/bash
</code></pre>
<h2 id="è¿è¡Œpostgresql"><a href="#è¿è¡Œpostgresql" class="headerlink" title="è¿è¡Œpostgresql"></a>è¿è¡Œpostgresql</h2><h3 id="èµ„æ–™-1"><a href="#èµ„æ–™-1" class="headerlink" title="èµ„æ–™"></a>èµ„æ–™</h3><p>å¯å‚è€ƒï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/mingfan/p/12332506.html">dockerå®‰è£…çš„postgresqlçš„åŸºæœ¬ä½¿ç”¨ - æ˜çŸ¾ - åšå®¢å›­ (cnblogs.com)</a><br><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/f246dc45e6dc">äºŒ. è¿æ¥PostgreSQL - ç®€ä¹¦ (jianshu.com)</a></li>
<li><a href="postgresql%E8%AF%AD%E6%B3%95.md">postgresqlè¯­æ³•</a></li>
</ul>
<h3 id="dockerå¸¸ç”¨åŸºæœ¬å‘½ä»¤"><a href="#dockerå¸¸ç”¨åŸºæœ¬å‘½ä»¤" class="headerlink" title="dockerå¸¸ç”¨åŸºæœ¬å‘½ä»¤"></a>dockerå¸¸ç”¨åŸºæœ¬å‘½ä»¤</h3><pre><code class="shell"># æ‹‰å–é•œåƒå¹¶è¿è¡Œ
# -d åå°è¿è¡Œ postgres:12ï¼šæŒ‡å®šä½¿ç”¨postgres:12ä½œä¸ºé•œåƒ
docker pull postgres:12
docker run --name postgres12 -e POSTGRES_PASSWORD=123456 -p 5432:5432 -d postgres:12

# è¿›å…¥å®¹å™¨
docker exec -it postgres12  /bin/bash

# è¿›å…¥å®¹å™¨å
whereis psql

# è¿æ¥æ•°æ®åº“
psql -U postgres

psql -U username -h hostname -p port -d dbname 
  -U username ç”¨æˆ·åï¼Œé»˜è®¤å€¼postgres
  -h hostname ä¸»æœºåï¼Œé»˜è®¤å€¼localhost
  -p port ç«¯å£å·ï¼Œé»˜è®¤å€¼5432
  -d dbname è¦è¿æ¥çš„æ•°æ®åº“åï¼Œé»˜è®¤å€¼postgres

# æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“
\list
select datname from pg_database;

# åˆ›å»ºæ•°æ®åº“
create database TEST;

# ç‰ˆæœ¬
 select version();
</code></pre>
<h3 id="postgresqlè¯­æ³•"><a href="#postgresqlè¯­æ³•" class="headerlink" title="postgresqlè¯­æ³•"></a>postgresqlè¯­æ³•</h3><pre><code class="sql"># åˆ›å»ºæ•°æ®åº“
create database xxx ;

# æŸ¥çœ‹æ•°æ®åº“
\list

# æ•°æ®åº“æ”¹å 
alter database db1 rename to db2;

# åˆ é™¤æ•°æ®åº“
drop database xxx;

# è¿›å…¥æ•°æ®åº“
\c xxx

# æŸ¥çœ‹è¡¨
\d

# æŸ¥çœ‹è¡¨ç»“æ„
\d xxx 

# åˆ›å»ºè¡¨
CREATE TABLE table_name(
   column1 datatype,
   column2 datatype,
   column3 datatype,
   .....
   columnN datatype,
   PRIMARY KEY( ä¸€ä¸ªæˆ–å¤šä¸ªåˆ— )
);

CREATE TABLE DEPARTMENT(
   ID INT PRIMARY KEY      NOT NULL,
   DEPT           CHAR(50) NOT NULL,
   EMP_ID         INT      NOT NULL
);

# åˆ é™¤è¡¨
drop table xxx;

# è¡¨çš„ä¿®æ”¹
# ä¿®æ”¹è¡¨å
alter table table_name rename to new_name ;
# ä¿®æ”¹åˆ—å
ALTER TABLE table_name RENAME COLUMN old_name TO new_name;
# ä¿®æ”¹åˆ—æ•°æ®ç»“æ„
ALTER TABLE table_name ALTER COLUMN column_name TYPE new_data_type;
# å¢åŠ åˆ—
ALTER TABLE table_name ADD COLUMN new_column_name data_type;
# åˆ é™¤åˆ—
ALTER TABLE table_name DROP COLUMN column_name;


# æŸ¥çœ‹å½“å‰æ•°æ®åº“æ¨¡å¼
\dn

# åˆ›å»ºæ¨¡å¼(æ³¨æ„æ˜¯åœ¨å“ªä¸ªæ•°æ®åº“åˆ›å»ºçš„)
create schema xxx;

# åˆ é™¤æ¨¡å¼
drop schema xxx;
# æŸ¥çœ‹æŒ‡å®šæ¨¡å¼ä¸‹çš„è¡¨æƒ…å†µ
\d æ¨¡å¼å.*
</code></pre>
<p><strong>æ¨¡å¼</strong><br>ä½¿ç”¨æ¨¡å¼çš„ä¼˜åŠ¿ï¼š</p>
<ul>
<li>å…è®¸å¤šä¸ªç”¨æˆ·ä½¿ç”¨ä¸€ä¸ªæ•°æ®åº“å¹¶ä¸”ä¸ä¼šäº’ç›¸å¹²æ‰°ã€‚</li>
<li>å°†æ•°æ®åº“å¯¹è±¡ç»„ç»‡æˆé€»è¾‘ç»„ä»¥ä¾¿æ›´å®¹æ˜“ç®¡ç†ã€‚</li>
<li>ç¬¬ä¸‰æ–¹åº”ç”¨çš„å¯¹è±¡å¯ä»¥æ”¾åœ¨ç‹¬ç«‹çš„æ¨¡å¼ä¸­ï¼Œè¿™æ ·å®ƒä»¬å°±ä¸ä¼šä¸å…¶ä»–å¯¹è±¡çš„åç§°å‘ç”Ÿå†²çªã€‚<br>æ¨¡å¼ç±»ä¼¼äºæ“ä½œç³»ç»Ÿå±‚çš„ç›®å½•ï¼Œä½†æ˜¯æ¨¡å¼ä¸èƒ½åµŒå¥—ã€‚</li>
</ul>
<h4 id="æ’å…¥"><a href="#æ’å…¥" class="headerlink" title="æ’å…¥"></a>æ’å…¥</h4><pre><code class="sql"># è¡¨æ’å…¥å¤šè¡Œï¼ˆæ³¨æ„é€—å·ï¼‰
INSERT INTO è¡¨å (åˆ—1, åˆ—2, åˆ—3, ...) VALUES  
(å€¼1, å€¼2, å€¼3, ...),  
(å€¼1, å€¼2, å€¼3, ...),  
(å€¼1, å€¼2, å€¼3, ...),  
...
</code></pre>
<h4 id="æ›´æ–°"><a href="#æ›´æ–°" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h4><pre><code class="sql">update [è¡¨å] 
set column1 = value1, column2 = value2...., columnN = valueN
where id=xxx
</code></pre>
<h4 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h4><pre><code class="sql">DELETE FROM table_name WHERE [condition];
</code></pre>
<h3 id="è‡ªæµ‹é¢˜"><a href="#è‡ªæµ‹é¢˜" class="headerlink" title="è‡ªæµ‹é¢˜"></a>è‡ªæµ‹é¢˜</h3><pre><code>1. æ•°æ®åº“çš„åˆ›å»ºã€ä¿®æ”¹å’Œåˆ é™¤ï¼›è¡¨çš„åˆ›å»ºã€ä¿®æ”¹å’Œåˆ é™¤ï¼›æ•°æ®çš„æ’å…¥ã€ä¿®æ”¹å’Œåˆ é™¤
2. æ•°æ®å•è¡¨æŸ¥è¯¢ï¼›å¤šè¡¨æŸ¥è¯¢ï¼›å­æŸ¥è¯¢ï¼›æ¨¡ç³ŠåŒ¹é…æŸ¥è¯¢ï¼›æŸ¥è¯¢è¿ç®—ï¼ˆèšåˆã€åˆ†ç»„ç­‰ï¼‰ï¼›çª—å£å‡½æ•°
3. å¸¸è§ç´¢å¼•ï¼ˆB-treeã€Hashç­‰ï¼‰çš„ç‰¹ç‚¹ï¼›åˆ›å»ºã€ä¿®æ”¹å’Œåˆ é™¤ç´¢å¼•
</code></pre>
<p>çª—å£å‡½æ•°ï¼š<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/92654574">é€šä¿—æ˜“æ‡‚çš„å­¦ä¼šï¼šSQLçª—å£å‡½æ•° - çŸ¥ä¹ (zhihu.com)</a><br>æ•°æ®ï¼š<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_43513855/article/details/105294775">PostgreSQLç»ƒä¹ _yws_2973199368çš„åšå®¢-CSDNåšå®¢</a></p>

    </div>

    <div class="post-meta">
        <i>
        
            <span>2023-04-01</span>
            
                <span>è¯¥ç¯‡æ–‡ç« è¢« Nikola</span>
            
            
                <span>æ‰“ä¸Šæ ‡ç­¾:
                    
                    
                        <a href='/tags/%E6%8A%80%E6%9C%AF/'>
                            æŠ€æœ¯
                        </a>
                    
                </span>
             
             
        
        </i>
    </div>
    
        

     
</div>



                                      
                    
                    
                    <div class="footer">
    
        <span> 
            Â© 2022-2099 China 

            
                

            
        </span>
    
</div>
<!--è¿™æ˜¯æŒ‡ä¸€æ¡çº¿å¾€ä¸‹çš„å†…å®¹-->
<div class="footer-last">
    
            <span>ç”¨èˆç”±æ—¶ï¼Œè¡Œè—åœ¨æˆ‘</span>
            
    
</div>


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>

    <!--ç›®å½•-->
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" type="text/javascript" ></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tocify/1.9.0/javascripts/jquery.tocify.min.js" type="text/javascript" ></script>
        
<script src="/js/toc.js"></script>

    
    
    
<script src="/js/highlight.min.js"></script>

    
<script src="/js/highlightjs-line-numbers.js"></script>


    
<script src="/js/randomHeaderContent.js"></script>

    <!--å›åˆ°é¡¶éƒ¨æŒ‰é’®-->
    
        
<script src="/js/returnToTop.js"></script>

    

    



<script>
    hljs.initHighlightingOnLoad();
    hljs.initLineNumbersOnLoad();
</script>



                </div>
            
            
                <!-- å›åˆ°é¡¶éƒ¨çš„æŒ‰é’®-->  
                <div class="progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
    </body>


</html>