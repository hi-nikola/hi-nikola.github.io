<!DOCTYPE html>
<html lang="zh-CN">
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0,  viewport-fit=cover" name="viewport" />
    <meta name="description" content="git的使用" />
    <meta name="hexo-theme-A4" content="v1.7.9" />
    <link rel="alternate icon" type="image/webp" href="/img/favicon.ico">
    <title>Nikola的博客 | 用舍由时，行藏在我</title>

    
        
<link rel="stylesheet" href="/css/reset.css">

        
<link rel="stylesheet" href="/css/markdown.css">

        
<link rel="stylesheet" href="/css/fonts.css">
 
         <!--注意：首页既不是post也不是page-->
        
    
    
<link rel="stylesheet" href="/css/ui.css">
 
    
<link rel="stylesheet" href="/css/style.css">


    <!--返回顶部css-->
    
<link rel="stylesheet" href="/css/returnToTop.css">

    
<link rel="stylesheet" href="https://s3-us-west-2.amazonaws.com/s.cdpn.io/1462889/unicons.css">


    <!--目录-->
    
<link rel="stylesheet" href="/css/toc.css">

<meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Nikola的博客" type="application/atom+xml">
</head>
    
    
    <body>
        
            <div class="left-toc-container">
                <nav id="toc" class="bs-docs-sidebar"></nav>
            </div>
        
        <div class="paper">
            
            
            
            
                <div class="shadow-drop-2-bottom paper-main">
                    
<div class="header">
    <div class="header-container">
        <img style="
        width: 56px;
        height: auto;" alt="^-^" cache-control="max-age=86400" class="header-img" src="/img/favicon.webp" width="10%"></img>
        <div class="header-content">
            <a class="logo" href="/">Nikola的博客</a> 
            <span class="description">用舍由时，行藏在我</span> 
        </div>
        
    </div>
    
   
    <ul class="nav">
        
            
                <li><a href="/">首页</a></li>
            
        
            
                <li><a href="/list/">文章</a></li>
            
        
            
                <li><a target="_blank" rel="noopener" href="https://photo.hi-nikola.cn/">摄影</a></li>
            
        
            
                <li><a href="/about/">关于</a></li>
            
        
    </ul>
</div> 
        
                    
                    

                    
                    
                    
                    <!--说明是文章post页面-->
                    
                        <div class="post-main">

    
        <div class="post-main-title">
            git的使用
        </div>
      
    

    <div class="post-md">
        
            
                <ol class="post-toc"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E6%B7%BB%E5%8A%A0%E3%80%81%E6%8F%90%E4%BA%A4"><span class="post-toc-text">添加、提交</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%9C%AC%E5%9C%B0%E4%BF%AE%E6%94%B9%E5%86%85%E5%AE%B9"><span class="post-toc-text">查看本地修改内容</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%8F%90%E4%BA%A4%E6%97%A5%E5%BF%97%E5%92%8C%E6%81%A2%E5%A4%8D%E5%88%B0%E6%8C%87%E5%AE%9A%E7%89%88%E6%9C%AC"><span class="post-toc-text">查看提交日志和恢复到指定版本</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E4%B8%80%E4%B8%AA%E6%96%87%E4%BB%B6%E4%BF%AE%E6%94%B9%E4%BA%86%E5%A6%82%E4%BD%95%E6%92%A4%E9%94%80%EF%BC%9F%E5%AF%B9%E4%BA%8E%E6%96%87%E4%BB%B6%E7%9A%84%E7%8A%B6%E6%80%81%E6%9C%89%E4%B8%8B%E9%9D%A2%E5%87%A0%E7%A7%8D%E6%83%85%E5%86%B5%EF%BC%9A"><span class="post-toc-text">一个文件修改了如何撤销？对于文件的状态有下面几种情况：</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E6%8E%A8%E9%80%81%E5%88%B0%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"><span class="post-toc-text">推送到远程仓库</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E5%88%86%E6%94%AF"><span class="post-toc-text">分支</span></a></li></ol>
            
        
        <p>git 版本管理真的是超级方便。分布式版本系统的最大好处之一是在本地工作完全不需要考虑远程库的存在，也就是有没有联网都可以正常工作，而SVN在没有联网的时候是拒绝干活的！当有网络的时候，再把本地提交推送一下就完成了同步，真是太方便了！</p>
<span id="more"></span> 
<p>对于文本类文件能够知道增加、删除了哪些内容（对于二进制文件 图片、word，就很难管理了)。<strong>Git管理的是修改，而不是文件</strong>。其中，我们要明白两个概念：工作区和暂存区。工作区是我们正常工程文件下的区域，暂存区是<code>.git</code>文件夹下的，当我们<code>git add .</code>文件后 文件被添加至stage暂存区。</p>
<hr>
<p><a target="_blank" rel="noopener" href="https://www.liaoxuefeng.com/wiki/896043488029600">Git教程 - 廖雪峰的官方网站 (liaoxuefeng.com)-讲的非常好！</a></p>
<blockquote>
<p>文件往Git版本库里添加的时候，是分两步执行的：<br>第一步是用<code>git add</code>把文件添加进去，实际上就是把文件修改添加到暂存区；<br>第二步是用<code>git commit</code>提交更改，实际上就是把<strong>暂存区</strong>的所有内容提交到当前分支。<br>因为我们创建Git版本库时，Git自动为我们创建了唯一一个<code>master</code>分支，所以，现在，<code>git commit</code>就是往<code>master</code>分支上提交更改。</p>
</blockquote>
<h4 id="添加、提交"><a href="#添加、提交" class="headerlink" title="添加、提交"></a>添加、提交</h4><pre><code class="bash">git init
git add readme.txt -- 一次可以多次添加文件，再一起commit
git commit -m &quot;add readme.txt&quot;
</code></pre>
<h4 id="查看本地修改内容"><a href="#查看本地修改内容" class="headerlink" title="查看本地修改内容"></a>查看本地修改内容</h4><pre><code class="bash">git satus -- 查看暂存区和工作区文件的状态：哪些文件做了修改、哪些文件还未提交。
git diff readme.txt -- 也可以不加具体的文件，查看暂存区和工作区文件的修改区别。
</code></pre>
<h4 id="查看提交日志和恢复到指定版本"><a href="#查看提交日志和恢复到指定版本" class="headerlink" title="查看提交日志和恢复到指定版本"></a>查看提交日志和恢复到指定版本</h4><pre><code class="bash">git log -- 查看提交记录 记录了每一次提交的内容和commitid
git log --pretty=oneline --显示更简洁的log信息
git reset --hard xxx  -- xxx表示commitid  会退到指定的版本。这个时候再git log查看 已经到了该版本啦
</code></pre>
<p>当回退到指定版本后，想恢复，但是这个时候没办法在控制台找到commitid了，这个时候</p>
<pre><code class="bash">git reflog
---- 记录了每一次提交的id
381c40d HEAD@&#123;0&#125;: reset: moving to 381c4
f83abc6 HEAD@&#123;1&#125;: reset: moving to f83abc
381c40d HEAD@&#123;2&#125;: reset: moving to 381c
f83abc6 HEAD@&#123;3&#125;: reset: moving to HEAD^
381c40d HEAD@&#123;4&#125;: commit: all
f83abc6 HEAD@&#123;5&#125;: commit (initial): wrote a readme file
</code></pre>
<h4 id="一个文件修改了如何撤销？对于文件的状态有下面几种情况："><a href="#一个文件修改了如何撤销？对于文件的状态有下面几种情况：" class="headerlink" title="一个文件修改了如何撤销？对于文件的状态有下面几种情况："></a>一个文件修改了如何撤销？对于文件的状态有下面几种情况：</h4><ol>
<li>文件修改了没有<code>git add </code>   到缓存区    – <code>git status</code>查看，根据提示修改</li>
</ol>
<pre><code class="bash"># 位于分支 master
# 尚未暂存以备提交的变更：
#   （使用 &quot;git add &lt;file&gt;...&quot; 更新要提交的内容）
#   （使用 &quot;git checkout -- &lt;file&gt;...&quot; 丢弃工作区的改动）
#
#       修改：      test.txt
</code></pre>
<ol start="2">
<li>文件<code>git add</code>到了缓存区       – 同理</li>
<li>文件<code>git commit </code>到了分支   –<code>git reset</code>版本回退</li>
<li>文件<code>git push</code>到了远程</li>
</ol>
<h4 id="推送到远程仓库"><a href="#推送到远程仓库" class="headerlink" title="推送到远程仓库"></a>推送到远程仓库</h4><p>本地Git仓库和GitHub仓库之间的传输是通过SSH加密的，所以，需要设置:<br><a target="_blank" rel="noopener" href="https://www.liaoxuefeng.com/wiki/896043488029600/896954117292416">远程仓库 - 廖雪峰的官方网站 (liaoxuefeng.com)</a></p>
<pre><code class="bash"> ssh-keygen -t rsa -C &quot;youremail@example.com&quot;
</code></pre>
<p>然后在github中添加公共钥匙。</p>
<pre><code class="bash">git remote add origin git@github.com:hi-nikola/learngit.git      -- ssh链接
git push -u origin master    --  git push origin master 
</code></pre>
<blockquote>
<p>由于远程库是空的，我们第一次推送<code>master</code>分支时，加上了<code>-u</code>参数，Git不但会把本地的<code>master</code>分支内容推送的远程新的<code>master</code>分支，还会把本地的<code>master</code>分支和远程的<code>master</code>分支关联起来，在以后的推送或者拉取时就可以简化命令，不带u了。</p>
</blockquote>
<p>查看git户主名和邮箱</p>
<pre><code class="bash">git config user.name
git config user.email

# 绑定
git config --global user.email &quot;you@example.com&quot;
git config --global user.name &quot;Your Name&quot;

# 解绑
git config --global --unset user.name &quot;Your Name&quot;
git config --global --unset user.email &quot;you@example.com&quot;
</code></pre>
<p><em>查看或者删除remote</em>：</p>
<pre><code class="bash">git remote -v
git remote rm origin
</code></pre>
<h4 id="分支"><a href="#分支" class="headerlink" title="分支"></a>分支</h4><pre><code class="bash">git branch -m 旧名字 新名字 
git branch -m master main
</code></pre>
<blockquote>
<p>查看分支：<code>git branch</code><br>创建分支：<code>git branch &lt;name&gt;</code><br>切换分支：<code>git checkout &lt;name&gt;</code>或者<code>git switch &lt;name&gt;</code><br>创建+切换分支：<code>git checkout -b &lt;name&gt;</code>或者<code>git switch -c &lt;name&gt;</code><br>合并某分支到当前分支：<code>git merge &lt;name&gt;</code><br>删除分支：<code>git branch -d &lt;name&gt;</code></p>
</blockquote>
<p>合并分支以及解决冲突：<a target="_blank" rel="noopener" href="https://www.liaoxuefeng.com/wiki/896043488029600/900004111093344">解决冲突 - 廖雪峰的官方网站 (liaoxuefeng.com)</a></p>

    </div>

    <div class="post-meta">
        <i>
        
            <span>2023-03-04</span>
            
                <span>该篇文章被 Nikola</span>
            
            
                <span>打上标签:
                    
                    
                        <a href='/tags/%E6%8A%80%E6%9C%AF/'>
                            技术
                        </a>
                    
                </span>
             
             
        
        </i>
    </div>
    
        

     
</div>



                                      
                    
                    
                    <div class="footer">
    
        <span> 
            © 2022-2099 China 

            
                

            
        </span>
    
</div>
<!--这是指一条线往下的内容-->
<div class="footer-last">
    
            <span>用舍由时，行藏在我</span>
            
    
</div>


    
<link rel="stylesheet" href="/css/a11y-dark.min.css">

    
<script src="/js/highlight.min.js"></script>

    
<script src="/js/highlightjs-line-numbers.js"></script>



<script>
    hljs.initHighlightingOnLoad();
    hljs.initLineNumbersOnLoad();
</script>


<!--回到顶部按钮-->

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>


<script src="/js/returnToTop.js"></script>


<!--目录-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript" ></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" type="text/javascript" ></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tocify/1.9.0/javascripts/jquery.tocify.min.js" type="text/javascript" ></script>

<script src="/js/toc.js"></script>




<script src="/js/randomHeaderContent.js"></script>

                </div>
            
            
                <!-- 回到顶部的按钮-->  
                <div class="progress-wrap shadow-drop-2-bottom">
                    <svg class="progress-circle svg-content" width="100%" height="100%" viewBox="-1 -1 102 102">
                        <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
                    </svg>
                </div>
            
    </body>


</html>